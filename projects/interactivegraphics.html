<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <!-- 웹에 공유되어있는 라이브러리 불러오기 -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/p5.js"></script>
    </head>
    <body>
			<script>
				let value = 100;
				let dir = 1;
				let angle_var = 1.0;
				let angle_add = 0.0;

				function setup(){
				  createCanvas(windowWidth, windowHeight);
				}

				function draw() {
				  background(236, 236, 236);
				  noStroke();
				  drawShadow();
				  drawBall();
				  title();
				}

				function drawShadow() {
				  push();
				    translate(windowWidth/2+1600, windowHeight+calHeight(6));
				    rotate(PI*3/4);
				    makeRect(4.5);
				  pop();

				  push();
				    translate(windowWidth/2+1400, windowHeight+calHeight(5));
				    rotate(PI*3/4);
				    makeRect(4);
				  pop();

				  push();
				    translate(windowWidth/2+1200, windowHeight+calHeight(4));
				    rotate(PI*3/4);
				    makeRect(3.5);
				  pop();

				  push();
				    translate(windowWidth/2+1000, windowHeight+calHeight(3));
				    rotate(PI*3/4);
				    makeRect(3);
				  pop();

				  push();
				    translate(windowWidth/2+800, windowHeight+calHeight(2));
				    rotate(PI*3/4);
				    makeRect(2.5);
				  pop();

				  push();
				    fill(248, 57, 89);
				    translate(windowWidth/2+80, calHeight2(3));
				    ellipse(50, 50, 200, 200);
				    if (angle_var<= 1.0) angle_var += 0.05;
				    angle_add = angle_add - PI/50;
				  pop();

				  push();
				    translate(windowWidth/2+600, windowHeight+calHeight(1));
				    rotate(PI*3/4);
				    makeRect(2);
				  pop();

				  push();
				    translate(windowWidth/2+400, windowHeight+calHeight(0));
				    rotate(PI*3/4);
				    makeRect(1.5);
				  pop();

				  push();
				    translate(windowWidth/2+200, windowHeight+calHeight(-1));
				    rotate(PI*3/4);
				    makeRect(1);
				  pop();

				  push();
				    translate(windowWidth/2, windowHeight+calHeight(-2));
				    rotate(PI*3/4);
				    makeRect(0.5);
				  pop();
				}

				function drawBall(){
				  fill(248, 57, 89);
				}

				function calHeight (n) {
				  return windowHeight/2-abs(sin(PI/6 * (angle_add+n) * angle_var)) * 100;
				}

				function calHeight2 (n) {
				  return windowHeight/2-abs(sin(PI/6 * (angle_add+n) * angle_var)) * 200;
				}

				function makeRect (n) {
				  fill(100/n, value/n, 150/n);
				  rect(-50, 0, 400, 3*windowHeight);
				}

				function title() {
				    textSize(40);
				    fill(255);
				    textFont('Helvetica-bold');
				    text('mind', 50, 100);
				    text('-fulness.', 50, 130);
				    textSize(10);
				    text(year() + ". " + month() + ". " + day(), width-120, height-60);
				}

				function mouseDragged() {
				  value = value + dir;
				    if (value > 200) {
				      dir = -1;
				    }
				    if (value < 100) {
				      dir = 1;
				    }
				}

				function mouseMoved() {
				  value = value + dir;
				    if (value > 200) {
				      dir = -1;
				    }
				    if (value < 100) {
				      dir = 1;
				    }
				}

				</script>
			</body>
	</html>
