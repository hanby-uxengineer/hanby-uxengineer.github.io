<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <!-- 웹에 공유되어있는 라이브러리 불러오기 -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/p5.js"></script>
    </head>
    <body>
			<script>
				var shapeR = 0.0;
				var dx = 0.0;
				var dy = 0.0;
				var radius = 200.0;
				var freq = 20.0;
				var amp = 20.0;
				var ampRate = 0.0;
				var angleStep = 0.0005;

				var colorR, colorG, colorB;

				var shapeSelectFlag = 0;
				var ampFlag = 0;

				function setup()
				{
				createCanvas(windowWidth, windowHeight);
				smooth();

				colorR = random(150, 255);
				colorG = random(150, 255);
				colorB = random(150, 255);

				shapeSelectFlag = 1;
				}

				function draw()
				{
				background(255);
				noStroke();

				fill(colorR, colorG, colorB);
				if(shapeSelectFlag == 1)	selectShape();
				}

				function selectShape()
				{
				var angle = 0.0;
				translate(windowWidth/2.0, windowHeight/2.0);
				rotate(shapeR);
				beginShape();
				while (angle <= 2.0*PI)
				{
					dx = (radius + sin(angle * freq) * (amp+ampRate)) * cos(angle);
					dy = (radius + sin(angle * freq) * (amp+ampRate)) * sin(angle);

					angle += angleStep;

					vertex(dx, dy);
				}
				endShape(CLOSE);

				shapeR += 0.003;

				if (ampRate > -1 && ampFlag == 0) ampRate += 0.3;
				if (ampRate > 10 && ampFlag == 0) ampFlag = 1;
				if (ampRate < 11 && ampFlag == 1) ampRate -= 0.3;
				if (ampRate < 0 && ampFlag == 1) ampFlag = 0;
				}

				function mouseDragged()
				{
				if(mouseX > pmouseX) amp++;
				if(mouseX < pmouseX) amp--;
				if(mouseY > pmouseY) freq++;
				if(mouseY < pmouseY) freq--;
				}
			</script>
    </body>
</html>
